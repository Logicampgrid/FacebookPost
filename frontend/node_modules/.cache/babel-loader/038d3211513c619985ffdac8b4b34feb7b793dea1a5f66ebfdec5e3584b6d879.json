{"ast":null,"code":"import React from'react';import{MessageCircle,Share2,ThumbsUp}from'lucide-react';import LinkPreview from'./LinkPreview';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostPreview=_ref=>{let{content,mediaFiles=[],detectedLinks=[],pageName,timestamp,showActions=true}=_ref;const getMediaPreview=file=>{const url=URL.createObjectURL(file);if(file.type.startsWith('image/')){return/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"Media preview\",className:\"post-media max-h-64\",onLoad:()=>URL.revokeObjectURL(url)});}else if(file.type.startsWith('video/')){return/*#__PURE__*/_jsx(\"video\",{src:url,controls:true,className:\"post-media max-h-64\",onLoad:()=>URL.revokeObjectURL(url)});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-preview fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-facebook-primary rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold text-sm\",children:pageName.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800\",children:pageName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:timestamp})]})]}),content&&/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",children:/*#__PURE__*/_jsx(\"p\",{className:\"whitespace-pre-wrap\",children:content})}),mediaFiles.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:mediaFiles.length===1?getMediaPreview(mediaFiles[0]):/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-2 \".concat(mediaFiles.length===2?'grid-cols-2':mediaFiles.length===3?'grid-cols-2':'grid-cols-2'),children:mediaFiles.slice(0,4).map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[getMediaPreview(file),index===3&&mediaFiles.length>4&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-bold text-lg\",children:[\"+\",mediaFiles.length-3]})})]},index))})}),detectedLinks.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mt-3\",children:detectedLinks.map((link,index)=>/*#__PURE__*/_jsx(LinkPreview,{link:link,onRemove:null// No remove in preview\n},\"preview-\".concat(link.url,\"-\").concat(index)))}),showActions&&/*#__PURE__*/_jsx(\"div\",{className:\"post-actions\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\",children:[/*#__PURE__*/_jsx(ThumbsUp,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"J'aime\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Commenter\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\",children:[/*#__PURE__*/_jsx(Share2,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Partager\"})]})]})})]});};export default PostPreview;","map":{"version":3,"names":["React","MessageCircle","Share2","ThumbsUp","LinkPreview","jsx","_jsx","jsxs","_jsxs","PostPreview","_ref","content","mediaFiles","detectedLinks","pageName","timestamp","showActions","getMediaPreview","file","url","URL","createObjectURL","type","startsWith","src","alt","className","onLoad","revokeObjectURL","controls","children","charAt","toUpperCase","length","concat","slice","map","index","link","onRemove"],"sources":["/app/frontend/src/components/PostPreview.js"],"sourcesContent":["import React from 'react';\nimport { MessageCircle, Share2, ThumbsUp } from 'lucide-react';\nimport LinkPreview from './LinkPreview';\n\nconst PostPreview = ({ content, mediaFiles = [], detectedLinks = [], pageName, timestamp, showActions = true }) => {\n  const getMediaPreview = (file) => {\n    const url = URL.createObjectURL(file);\n    \n    if (file.type.startsWith('image/')) {\n      return (\n        <img \n          src={url} \n          alt=\"Media preview\" \n          className=\"post-media max-h-64\"\n          onLoad={() => URL.revokeObjectURL(url)}\n        />\n      );\n    } else if (file.type.startsWith('video/')) {\n      return (\n        <video \n          src={url} \n          controls \n          className=\"post-media max-h-64\"\n          onLoad={() => URL.revokeObjectURL(url)}\n        />\n      );\n    }\n    \n    return null;\n  };\n\n  return (\n    <div className=\"post-preview fade-in\">\n      {/* Post Header */}\n      <div className=\"post-header\">\n        <div className=\"w-10 h-10 bg-facebook-primary rounded-full flex items-center justify-center\">\n          <span className=\"text-white font-semibold text-sm\">\n            {pageName.charAt(0).toUpperCase()}\n          </span>\n        </div>\n        <div className=\"ml-3\">\n          <h4 className=\"font-semibold text-gray-800\">{pageName}</h4>\n          <p className=\"text-xs text-gray-500\">{timestamp}</p>\n        </div>\n      </div>\n\n      {/* Post Content */}\n      {content && (\n        <div className=\"post-content\">\n          <p className=\"whitespace-pre-wrap\">{content}</p>\n        </div>\n      )}\n\n      {/* Post Media */}\n      {mediaFiles.length > 0 && (\n        <div className=\"space-y-2\">\n          {mediaFiles.length === 1 ? (\n            getMediaPreview(mediaFiles[0])\n          ) : (\n            <div className={`grid gap-2 ${\n              mediaFiles.length === 2 ? 'grid-cols-2' : \n              mediaFiles.length === 3 ? 'grid-cols-2' :\n              'grid-cols-2'\n            }`}>\n              {mediaFiles.slice(0, 4).map((file, index) => (\n                <div key={index} className=\"relative\">\n                  {getMediaPreview(file)}\n                  {index === 3 && mediaFiles.length > 4 && (\n                    <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg\">\n                      <span className=\"text-white font-bold text-lg\">\n                        +{mediaFiles.length - 3}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Detected Links */}\n      {detectedLinks.length > 0 && (\n        <div className=\"space-y-2 mt-3\">\n          {detectedLinks.map((link, index) => (\n            <LinkPreview \n              key={`preview-${link.url}-${index}`}\n              link={link}\n              onRemove={null} // No remove in preview\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Post Actions */}\n      {showActions && (\n        <div className=\"post-actions\">\n          <div className=\"flex items-center space-x-6\">\n            <button className=\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\">\n              <ThumbsUp className=\"w-4 h-4\" />\n              <span>J'aime</span>\n            </button>\n            <button className=\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\">\n              <MessageCircle className=\"w-4 h-4\" />\n              <span>Commenter</span>\n            </button>\n            <button className=\"flex items-center space-x-1 hover:text-facebook-primary transition-colors\">\n              <Share2 className=\"w-4 h-4\" />\n              <span>Partager</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PostPreview;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,cAAc,CAC9D,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA+F,IAA9F,CAAEC,OAAO,CAAEC,UAAU,CAAG,EAAE,CAAEC,aAAa,CAAG,EAAE,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,CAAG,IAAK,CAAC,CAAAN,IAAA,CAC5G,KAAM,CAAAO,eAAe,CAAIC,IAAI,EAAK,CAChC,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC,CAErC,GAAIA,IAAI,CAACI,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CAClC,mBACEjB,IAAA,QACEkB,GAAG,CAAEL,GAAI,CACTM,GAAG,CAAC,eAAe,CACnBC,SAAS,CAAC,qBAAqB,CAC/BC,MAAM,CAAEA,CAAA,GAAMP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAE,CACxC,CAAC,CAEN,CAAC,IAAM,IAAID,IAAI,CAACI,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CACzC,mBACEjB,IAAA,UACEkB,GAAG,CAAEL,GAAI,CACTU,QAAQ,MACRH,SAAS,CAAC,qBAAqB,CAC/BC,MAAM,CAAEA,CAAA,GAAMP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAE,CACxC,CAAC,CAEN,CAEA,MAAO,KAAI,CACb,CAAC,CAED,mBACEX,KAAA,QAAKkB,SAAS,CAAC,sBAAsB,CAAAI,QAAA,eAEnCtB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAI,QAAA,eAC1BxB,IAAA,QAAKoB,SAAS,CAAC,6EAA6E,CAAAI,QAAA,cAC1FxB,IAAA,SAAMoB,SAAS,CAAC,kCAAkC,CAAAI,QAAA,CAC/ChB,QAAQ,CAACiB,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC7B,CAAC,CACJ,CAAC,cACNxB,KAAA,QAAKkB,SAAS,CAAC,MAAM,CAAAI,QAAA,eACnBxB,IAAA,OAAIoB,SAAS,CAAC,6BAA6B,CAAAI,QAAA,CAAEhB,QAAQ,CAAK,CAAC,cAC3DR,IAAA,MAAGoB,SAAS,CAAC,uBAAuB,CAAAI,QAAA,CAAEf,SAAS,CAAI,CAAC,EACjD,CAAC,EACH,CAAC,CAGLJ,OAAO,eACNL,IAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAI,QAAA,cAC3BxB,IAAA,MAAGoB,SAAS,CAAC,qBAAqB,CAAAI,QAAA,CAAEnB,OAAO,CAAI,CAAC,CAC7C,CACN,CAGAC,UAAU,CAACqB,MAAM,CAAG,CAAC,eACpB3B,IAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAI,QAAA,CACvBlB,UAAU,CAACqB,MAAM,GAAK,CAAC,CACtBhB,eAAe,CAACL,UAAU,CAAC,CAAC,CAAC,CAAC,cAE9BN,IAAA,QAAKoB,SAAS,eAAAQ,MAAA,CACZtB,UAAU,CAACqB,MAAM,GAAK,CAAC,CAAG,aAAa,CACvCrB,UAAU,CAACqB,MAAM,GAAK,CAAC,CAAG,aAAa,CACvC,aAAa,CACZ,CAAAH,QAAA,CACAlB,UAAU,CAACuB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAAClB,IAAI,CAAEmB,KAAK,gBACtC7B,KAAA,QAAiBkB,SAAS,CAAC,UAAU,CAAAI,QAAA,EAClCb,eAAe,CAACC,IAAI,CAAC,CACrBmB,KAAK,GAAK,CAAC,EAAIzB,UAAU,CAACqB,MAAM,CAAG,CAAC,eACnC3B,IAAA,QAAKoB,SAAS,CAAC,qFAAqF,CAAAI,QAAA,cAClGtB,KAAA,SAAMkB,SAAS,CAAC,8BAA8B,CAAAI,QAAA,EAAC,GAC5C,CAAClB,UAAU,CAACqB,MAAM,CAAG,CAAC,EACnB,CAAC,CACJ,CACN,GAROI,KASL,CACN,CAAC,CACC,CACN,CACE,CACN,CAGAxB,aAAa,CAACoB,MAAM,CAAG,CAAC,eACvB3B,IAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAI,QAAA,CAC5BjB,aAAa,CAACuB,GAAG,CAAC,CAACE,IAAI,CAAED,KAAK,gBAC7B/B,IAAA,CAACF,WAAW,EAEVkC,IAAI,CAAEA,IAAK,CACXC,QAAQ,CAAE,IAAM;AAAA,aAAAL,MAAA,CAFAI,IAAI,CAACnB,GAAG,MAAAe,MAAA,CAAIG,KAAK,CAGlC,CACF,CAAC,CACC,CACN,CAGArB,WAAW,eACVV,IAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAI,QAAA,cAC3BtB,KAAA,QAAKkB,SAAS,CAAC,6BAA6B,CAAAI,QAAA,eAC1CtB,KAAA,WAAQkB,SAAS,CAAC,2EAA2E,CAAAI,QAAA,eAC3FxB,IAAA,CAACH,QAAQ,EAACuB,SAAS,CAAC,SAAS,CAAE,CAAC,cAChCpB,IAAA,SAAAwB,QAAA,CAAM,QAAM,CAAM,CAAC,EACb,CAAC,cACTtB,KAAA,WAAQkB,SAAS,CAAC,2EAA2E,CAAAI,QAAA,eAC3FxB,IAAA,CAACL,aAAa,EAACyB,SAAS,CAAC,SAAS,CAAE,CAAC,cACrCpB,IAAA,SAAAwB,QAAA,CAAM,WAAS,CAAM,CAAC,EAChB,CAAC,cACTtB,KAAA,WAAQkB,SAAS,CAAC,2EAA2E,CAAAI,QAAA,eAC3FxB,IAAA,CAACJ,MAAM,EAACwB,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BpB,IAAA,SAAAwB,QAAA,CAAM,UAAQ,CAAM,CAAC,EACf,CAAC,EACN,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}