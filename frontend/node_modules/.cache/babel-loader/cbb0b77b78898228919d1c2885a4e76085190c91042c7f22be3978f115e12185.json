{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Target,Instagram,Users,MessageSquare,ChevronDown,ChevronUp,Sparkles,Zap}from'lucide-react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_BACKEND_URL;const SmartCrossPostSelector=_ref=>{let{selectedPlatform,user,onCrossTargetsChange,initialTargets=[]}=_ref;const[relatedPlatforms,setRelatedPlatforms]=useState(null);const[selectedTargets,setSelectedTargets]=useState(initialTargets);const[loading,setLoading]=useState(false);const[expanded,setExpanded]=useState(false);const[smartMode,setSmartMode]=useState(false);const getPlatformIcon=(platform,type)=>{if(platform==='instagram')return/*#__PURE__*/_jsx(Instagram,{className:\"w-4 h-4 text-pink-500\"});if(type==='group')return/*#__PURE__*/_jsx(MessageSquare,{className:\"w-4 h-4 text-purple-500\"});return/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4 text-blue-500\"});};const loadRelatedPlatforms=async()=>{if(!selectedPlatform||selectedPlatform.platform!=='facebook'||selectedPlatform.type!=='page'){return;}try{setLoading(true);const response=await axios.get(\"\".concat(API_BASE,\"/api/pages/\").concat(selectedPlatform.id,\"/related-platforms?user_id=\").concat(user._id));if(response.data.success){setRelatedPlatforms(response.data.related_platforms);// Auto-select smart suggestions if in smart mode\nif(smartMode){const autoSelected=response.data.related_platforms.cross_post_suggestions.filter(s=>s.selected).map(s=>({id:s.id,name:s.name,platform:s.platform,type:s.type,requires_media:s.requires_media}));setSelectedTargets(autoSelected);onCrossTargetsChange(autoSelected);}}}catch(error){console.error('Error loading related platforms:',error);}finally{setLoading(false);}};useEffect(()=>{if(selectedPlatform&&smartMode){loadRelatedPlatforms();}},[selectedPlatform,smartMode,user]);const handleSmartModeToggle=()=>{const newSmartMode=!smartMode;setSmartMode(newSmartMode);if(newSmartMode){loadRelatedPlatforms();}else{setSelectedTargets([]);onCrossTargetsChange([]);setRelatedPlatforms(null);}};const handleTargetToggle=suggestion=>{setSelectedTargets(prev=>{const exists=prev.find(t=>t.id===suggestion.id);let newTargets;if(exists){newTargets=prev.filter(t=>t.id!==suggestion.id);}else{newTargets=[...prev,{id:suggestion.id,name:suggestion.name,platform:suggestion.platform,type:suggestion.type,requires_media:suggestion.requires_media}];}onCrossTargetsChange(newTargets);return newTargets;});};const getCompatibilityWarnings=()=>{const warnings=[];const instagramTargets=selectedTargets.filter(t=>t.platform==='instagram');if(instagramTargets.length>0){warnings.push('Instagram nécessite au moins une image');}return warnings;};// Don't show for non-Facebook pages\nif(!selectedPlatform||selectedPlatform.platform!=='facebook'||selectedPlatform.type!=='page'){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-800\",children:\"Publication Meta Intelligente\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:smartMode?'Publication automatique sur Instagram + groupes accessibles':'Activez pour publier sur toutes les plateformes liées à cette page'})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSmartModeToggle,disabled:loading,className:\"px-4 py-2 rounded-lg font-medium transition-all \".concat(smartMode?'bg-purple-600 text-white shadow-lg':'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'),children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-gray-300 border-t-purple-600 rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Chargement...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:smartMode?'Mode Intelligent':'Activer le Mode Intelligent'})]})})]})}),smartMode&&relatedPlatforms&&/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-4 py-3 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4 text-purple-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-800\",children:[\"Plateformes sugg\\xE9r\\xE9es (\",selectedTargets.length,\" s\\xE9lectionn\\xE9es)\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpanded(!expanded),className:\"text-gray-500 hover:text-gray-700\",children:expanded?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-300 \".concat(expanded?'max-h-96':'max-h-32',\" overflow-y-auto\"),children:relatedPlatforms.cross_post_suggestions.map(suggestion=>{const isSelected=selectedTargets.find(t=>t.id===suggestion.id);const isPrimary=suggestion.primary;return/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-b border-gray-100 last:border-b-0 \".concat(isPrimary?'bg-blue-50':'bg-white'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[getPlatformIcon(suggestion.platform,suggestion.type),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:suggestion.name}),isPrimary&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\",children:\"Principal\"}),suggestion.requires_media&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-pink-100 text-pink-800 text-xs rounded-full\",children:\"N\\xE9cessite image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[suggestion.platform==='instagram'&&'Instagram Business',suggestion.type==='group'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"Groupe \",suggestion.privacy,suggestion.member_count&&\" \\u2022 \".concat(suggestion.member_count,\" membres\")]}),suggestion.type==='page'&&'Page Facebook']})]})]}),!isPrimary&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!isSelected,onChange:()=>handleTargetToggle(suggestion),className:\"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2\"})})]})},suggestion.id);})}),selectedTargets.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 px-4 py-3 border-t border-purple-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-purple-800\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[selectedTargets.length,\" plateformes s\\xE9lectionn\\xE9es\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-1\",children:selectedTargets.map(target=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded\",children:[getPlatformIcon(target.platform,target.type),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:target.name})]},target.id))})]})}),getCompatibilityWarnings().length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-yellow-100 border border-yellow-200 rounded text-xs text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Attention:\"}),getCompatibilityWarnings().map((warning,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[\"\\u2022 \",warning]},index))]})]})]}),smartMode&&relatedPlatforms&&!expanded&&selectedTargets.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded\",children:[\"Publication pr\\xE9vue sur: \",selectedTargets.map(t=>t.name).join(', ')]})]});};export default SmartCrossPostSelector;","map":{"version":3,"names":["React","useState","useEffect","Target","Instagram","Users","MessageSquare","ChevronDown","ChevronUp","Sparkles","Zap","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE","process","env","REACT_APP_BACKEND_URL","SmartCrossPostSelector","_ref","selectedPlatform","user","onCrossTargetsChange","initialTargets","relatedPlatforms","setRelatedPlatforms","selectedTargets","setSelectedTargets","loading","setLoading","expanded","setExpanded","smartMode","setSmartMode","getPlatformIcon","platform","type","className","loadRelatedPlatforms","response","get","concat","id","_id","data","success","related_platforms","autoSelected","cross_post_suggestions","filter","s","selected","map","name","requires_media","error","console","handleSmartModeToggle","newSmartMode","handleTargetToggle","suggestion","prev","exists","find","t","newTargets","getCompatibilityWarnings","warnings","instagramTargets","length","push","children","onClick","disabled","isSelected","isPrimary","primary","privacy","member_count","checked","onChange","target","warning","index","join"],"sources":["/app/frontend/src/components/SmartCrossPostSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Target, Instagram, Users, MessageSquare, ChevronDown, ChevronUp, Sparkles, Zap } from 'lucide-react';\nimport axios from 'axios';\n\nconst API_BASE = process.env.REACT_APP_BACKEND_URL;\n\nconst SmartCrossPostSelector = ({ \n  selectedPlatform, \n  user, \n  onCrossTargetsChange,\n  initialTargets = []\n}) => {\n  const [relatedPlatforms, setRelatedPlatforms] = useState(null);\n  const [selectedTargets, setSelectedTargets] = useState(initialTargets);\n  const [loading, setLoading] = useState(false);\n  const [expanded, setExpanded] = useState(false);\n  const [smartMode, setSmartMode] = useState(false);\n\n  const getPlatformIcon = (platform, type) => {\n    if (platform === 'instagram') return <Instagram className=\"w-4 h-4 text-pink-500\" />;\n    if (type === 'group') return <MessageSquare className=\"w-4 h-4 text-purple-500\" />;\n    return <Users className=\"w-4 h-4 text-blue-500\" />;\n  };\n\n  const loadRelatedPlatforms = async () => {\n    if (!selectedPlatform || selectedPlatform.platform !== 'facebook' || selectedPlatform.type !== 'page') {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await axios.get(\n        `${API_BASE}/api/pages/${selectedPlatform.id}/related-platforms?user_id=${user._id}`\n      );\n      \n      if (response.data.success) {\n        setRelatedPlatforms(response.data.related_platforms);\n        \n        // Auto-select smart suggestions if in smart mode\n        if (smartMode) {\n          const autoSelected = response.data.related_platforms.cross_post_suggestions\n            .filter(s => s.selected)\n            .map(s => ({\n              id: s.id,\n              name: s.name,\n              platform: s.platform,\n              type: s.type,\n              requires_media: s.requires_media\n            }));\n          \n          setSelectedTargets(autoSelected);\n          onCrossTargetsChange(autoSelected);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading related platforms:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedPlatform && smartMode) {\n      loadRelatedPlatforms();\n    }\n  }, [selectedPlatform, smartMode, user]);\n\n  const handleSmartModeToggle = () => {\n    const newSmartMode = !smartMode;\n    setSmartMode(newSmartMode);\n    \n    if (newSmartMode) {\n      loadRelatedPlatforms();\n    } else {\n      setSelectedTargets([]);\n      onCrossTargetsChange([]);\n      setRelatedPlatforms(null);\n    }\n  };\n\n  const handleTargetToggle = (suggestion) => {\n    setSelectedTargets(prev => {\n      const exists = prev.find(t => t.id === suggestion.id);\n      let newTargets;\n      \n      if (exists) {\n        newTargets = prev.filter(t => t.id !== suggestion.id);\n      } else {\n        newTargets = [...prev, {\n          id: suggestion.id,\n          name: suggestion.name,\n          platform: suggestion.platform,\n          type: suggestion.type,\n          requires_media: suggestion.requires_media\n        }];\n      }\n      \n      onCrossTargetsChange(newTargets);\n      return newTargets;\n    });\n  };\n\n  const getCompatibilityWarnings = () => {\n    const warnings = [];\n    const instagramTargets = selectedTargets.filter(t => t.platform === 'instagram');\n    \n    if (instagramTargets.length > 0) {\n      warnings.push('Instagram nécessite au moins une image');\n    }\n    \n    return warnings;\n  };\n\n  // Don't show for non-Facebook pages\n  if (!selectedPlatform || selectedPlatform.platform !== 'facebook' || selectedPlatform.type !== 'page') {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Smart Mode Toggle */}\n      <div className=\"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n              <Sparkles className=\"w-4 h-4 text-white\" />\n            </div>\n            <div>\n              <h3 className=\"font-medium text-gray-800\">Publication Meta Intelligente</h3>\n              <p className=\"text-sm text-gray-600\">\n                {smartMode ? \n                  'Publication automatique sur Instagram + groupes accessibles' : \n                  'Activez pour publier sur toutes les plateformes liées à cette page'\n                }\n              </p>\n            </div>\n          </div>\n          <button\n            type=\"button\"\n            onClick={handleSmartModeToggle}\n            disabled={loading}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              smartMode \n                ? 'bg-purple-600 text-white shadow-lg' \n                : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n            }`}\n          >\n            {loading ? (\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 border-2 border-gray-300 border-t-purple-600 rounded-full animate-spin\" />\n                <span>Chargement...</span>\n              </div>\n            ) : (\n              <div className=\"flex items-center space-x-2\">\n                <Zap className=\"w-4 h-4\" />\n                <span>{smartMode ? 'Mode Intelligent' : 'Activer le Mode Intelligent'}</span>\n              </div>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Smart Suggestions */}\n      {smartMode && relatedPlatforms && (\n        <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n          <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <Target className=\"w-4 h-4 text-purple-600\" />\n                <span className=\"font-medium text-gray-800\">\n                  Plateformes suggérées ({selectedTargets.length} sélectionnées)\n                </span>\n              </div>\n              <button\n                onClick={() => setExpanded(!expanded)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                {expanded ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n            </div>\n          </div>\n\n          <div className={`transition-all duration-300 ${expanded ? 'max-h-96' : 'max-h-32'} overflow-y-auto`}>\n            {relatedPlatforms.cross_post_suggestions.map((suggestion) => {\n              const isSelected = selectedTargets.find(t => t.id === suggestion.id);\n              const isPrimary = suggestion.primary;\n              \n              return (\n                <div\n                  key={suggestion.id}\n                  className={`p-3 border-b border-gray-100 last:border-b-0 ${\n                    isPrimary ? 'bg-blue-50' : 'bg-white'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      {getPlatformIcon(suggestion.platform, suggestion.type)}\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"font-medium text-gray-900\">\n                            {suggestion.name}\n                          </span>\n                          {isPrimary && (\n                            <span className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\n                              Principal\n                            </span>\n                          )}\n                          {suggestion.requires_media && (\n                            <span className=\"px-2 py-1 bg-pink-100 text-pink-800 text-xs rounded-full\">\n                              Nécessite image\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          {suggestion.platform === 'instagram' && 'Instagram Business'}\n                          {suggestion.type === 'group' && (\n                            <>\n                              Groupe {suggestion.privacy}\n                              {suggestion.member_count && ` • ${suggestion.member_count} membres`}\n                            </>\n                          )}\n                          {suggestion.type === 'page' && 'Page Facebook'}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {!isPrimary && (\n                      <div className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={!!isSelected}\n                          onChange={() => handleTargetToggle(suggestion)}\n                          className=\"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2\"\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Selected Summary */}\n          {selectedTargets.length > 0 && (\n            <div className=\"bg-purple-50 px-4 py-3 border-t border-purple-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-sm text-purple-800\">\n                  <strong>{selectedTargets.length} plateformes sélectionnées</strong>\n                  <div className=\"flex flex-wrap gap-1 mt-1\">\n                    {selectedTargets.map((target) => (\n                      <span\n                        key={target.id}\n                        className=\"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded\"\n                      >\n                        {getPlatformIcon(target.platform, target.type)}\n                        <span className=\"ml-1\">{target.name}</span>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Compatibility warnings */}\n              {getCompatibilityWarnings().length > 0 && (\n                <div className=\"mt-2 p-2 bg-yellow-100 border border-yellow-200 rounded text-xs text-yellow-800\">\n                  <strong>⚠️ Attention:</strong>\n                  {getCompatibilityWarnings().map((warning, index) => (\n                    <div key={index} className=\"mt-1\">• {warning}</div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Summary when not expanded */}\n      {smartMode && relatedPlatforms && !expanded && selectedTargets.length > 0 && (\n        <div className=\"text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded\">\n          Publication prévue sur: {selectedTargets.map(t => t.name).join(', ')}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SmartCrossPostSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}