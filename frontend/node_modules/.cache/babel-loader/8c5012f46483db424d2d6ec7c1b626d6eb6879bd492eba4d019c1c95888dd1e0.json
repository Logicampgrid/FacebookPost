{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Instagram,Users,CheckCircle,AlertCircle,Loader,ExternalLink,Settings,Zap,Facebook}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LogicampBergerConnector=_ref=>{let{user,onConnectionComplete}=_ref;const[connectionStatus,setConnectionStatus]=useState('checking');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[platforms,setPlatforms]=useState({facebook:{connected:false,page:null},instagram:{connected:false,account:null}});const[testResult,setTestResult]=useState(null);const API_BASE=process.env.REACT_APP_BACKEND_URL||'';useEffect(()=>{if(user){checkLogicampConnection();}},[user]);const checkLogicampConnection=async()=>{try{setLoading(true);setError('');// Vérifier la connexion à @logicamp_berger\nconst response=await fetch(\"\".concat(API_BASE,\"/api/logicamp-berger/status\"),{method:'GET'});const data=await response.json();if(data.success){setPlatforms(data.platforms);// Déterminer le statut global\nif(data.platforms.facebook.connected&&data.platforms.instagram.connected){setConnectionStatus('fully_connected');}else if(data.platforms.facebook.connected||data.platforms.instagram.connected){setConnectionStatus('partially_connected');}else{setConnectionStatus('not_connected');}if(onConnectionComplete&&data.platforms.facebook.connected){onConnectionComplete(data.platforms);}}else{setError(data.error||'Erreur lors de la vérification de la connexion');setConnectionStatus('error');}}catch(err){console.error('Erreur vérification connexion:',err);setError('Impossible de vérifier la connexion à @logicamp_berger');setConnectionStatus('error');}finally{setLoading(false);}};const establishConnection=async()=>{try{setLoading(true);setError('');// Lancer la procédure de connexion automatique\nconst response=await fetch(\"\".concat(API_BASE,\"/api/logicamp-berger/connect\"),{method:'POST'});const data=await response.json();if(data.success){setPlatforms(data.platforms);setConnectionStatus(data.status);if(onConnectionComplete){onConnectionComplete(data.platforms);}}else{setError(data.error||'Erreur lors de la connexion');}}catch(err){console.error('Erreur connexion:',err);setError('Impossible de se connecter à @logicamp_berger');}finally{setLoading(false);}};const testWebhookPublication=async()=>{try{setLoading(true);setError('');// Tester la publication webhook sur les deux plateformes\nconst response=await fetch(\"\".concat(API_BASE,\"/api/logicamp-berger/test-webhook\"),{method:'POST'});const result=await response.json();setTestResult(result);}catch(err){console.error('Erreur test webhook:',err);setTestResult({success:false,error:'Erreur lors du test de publication'});}finally{setLoading(false);}};const renderConnectionStatus=()=>{var _platforms$facebook$p,_platforms$instagram$,_platforms$facebook$p2,_platforms$instagram$2,_platforms$instagram$3;switch(connectionStatus){case'checking':return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-blue-600\",children:[/*#__PURE__*/_jsx(Loader,{className:\"w-5 h-5 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"V\\xE9rification de la connexion @logicamp_berger...\"})]});case'not_connected':return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 border border-orange-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-orange-600 mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Connexion @logicamp_berger requise\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:\"Pour publier simultan\\xE9ment sur Facebook et Instagram via webhook, connectez-vous \\xE0 @logicamp_berger.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border-l-4 border-blue-500\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Facebook,{className:\"w-4 h-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Page Facebook\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Le Berger Blanc Suisse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Publication via API Facebook\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border-l-4 border-pink-500\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Instagram,{className:\"w-4 h-4 text-pink-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Instagram Business\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"@logicamp_berger\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Publication via API Instagram\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:establishConnection,disabled:loading,className:\"w-full bg-gradient-to-r from-blue-500 to-pink-500 text-white py-3 px-4 rounded-lg hover:from-blue-600 hover:to-pink-600 disabled:opacity-50 flex items-center justify-center space-x-2 font-medium\",children:loading?/*#__PURE__*/_jsx(Loader,{className:\"w-5 h-5 animate-spin\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\xC9tablir la connexion @logicamp_berger\"})]})})]});case'partially_connected':return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-yellow-600 mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Connexion partielle\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border-l-4 \".concat(platforms.facebook.connected?'border-green-500':'border-red-500'),children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Facebook,{className:\"w-4 h-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Facebook\"}),platforms.facebook.connected?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 text-red-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:platforms.facebook.connected?((_platforms$facebook$p=platforms.facebook.page)===null||_platforms$facebook$p===void 0?void 0:_platforms$facebook$p.name)||'Page connectée':'Page non connectée'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border-l-4 \".concat(platforms.instagram.connected?'border-green-500':'border-red-500'),children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Instagram,{className:\"w-4 h-4 text-pink-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Instagram\"}),platforms.instagram.connected?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 text-red-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:platforms.instagram.connected?\"@\".concat(((_platforms$instagram$=platforms.instagram.account)===null||_platforms$instagram$===void 0?void 0:_platforms$instagram$.username)||'logicamp_berger'):'@logicamp_berger (non connecté)'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded p-4 mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-800 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Publication possible :\"}),\" \",platforms.facebook.connected?'Facebook':'',platforms.facebook.connected&&platforms.instagram.connected?' + ':'',platforms.instagram.connected?'Instagram':'']})}),/*#__PURE__*/_jsx(\"button\",{onClick:establishConnection,disabled:loading,className:\"w-full bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700 disabled:opacity-50 flex items-center justify-center space-x-2\",children:loading?/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Compl\\xE9ter la connexion\"})]})})]});case'fully_connected':return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-green-600 mb-4\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg\",children:\"\\uD83C\\uDF89 @logicamp_berger Connect\\xE9 !\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Facebook,{className:\"w-4 h-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Page Facebook\"}),/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:(_platforms$facebook$p2=platforms.facebook.page)===null||_platforms$facebook$p2===void 0?void 0:_platforms$facebook$p2.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600\",children:\"\\u2705 Publication active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Instagram,{className:\"w-4 h-4 text-pink-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Instagram Business\"}),/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:[\"@\",(_platforms$instagram$2=platforms.instagram.account)===null||_platforms$instagram$2===void 0?void 0:_platforms$instagram$2.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600\",children:\"\\u2705 Publication active\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"https://www.instagram.com/\".concat((_platforms$instagram$3=platforms.instagram.account)===null||_platforms$instagram$3===void 0?void 0:_platforms$instagram$3.username,\"/\"),target:\"_blank\",rel:\"noopener noreferrer\",className:\"inline-flex items-center space-x-1 text-blue-600 hover:underline text-xs mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Voir le profil\"}),/*#__PURE__*/_jsx(ExternalLink,{className:\"w-3 h-3\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:\"\\uD83D\\uDE80 Publication Webhook Multi-Plateformes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Endpoint :\"}),\" \",/*#__PURE__*/_jsxs(\"code\",{className:\"bg-white px-2 py-1 rounded\",children:[API_BASE,\"/api/webhook\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Shop Type :\"}),\" \",/*#__PURE__*/_jsx(\"code\",{className:\"bg-white px-2 py-1 rounded\",children:\"\\\"gizmobbs\\\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-3 mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-green-800 font-medium mb-1\",children:\"\\u2705 Publication simultan\\xE9e activ\\xE9e :\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Facebook : Page \\\"Le Berger Blanc Suisse\\\"\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Instagram : @logicamp_berger\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:testWebhookPublication,disabled:loading,className:\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2\",children:[loading?/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Zap,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tester Publication Multi-Plateformes\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:checkLogicampConnection,disabled:loading,className:\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50\",children:\"Actualiser\"})]})]});case'error':default:return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-red-600 mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Erreur de connexion\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:\"Impossible de v\\xE9rifier ou d'\\xE9tablir la connexion \\xE0 @logicamp_berger.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:checkLogicampConnection,disabled:loading,className:\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50\",children:\"R\\xE9essayer\"})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Instagram,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Connexion @logicamp_berger\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Configuration pour publication simultan\\xE9e Facebook + Instagram via webhook\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:error})]}),renderConnectionStatus(),testResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border rounded-lg p-4 \".concat(testResult.success?'bg-green-50 border-green-200':'bg-red-50 border-red-200'),children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 \".concat(testResult.success?'text-green-900':'text-red-900'),children:testResult.success?'✅ Test Multi-Plateformes Réussi !':'❌ Test Multi-Plateformes Échoué'}),testResult.success&&testResult.results&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[testResult.results.facebook&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-blue-800\",children:\"Facebook\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Publi\\xE9 sur : \",testResult.results.facebook.page_name]}),testResult.results.facebook.post_url&&/*#__PURE__*/_jsx(\"a\",{href:testResult.results.facebook.post_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:underline text-sm\",children:\"Voir le post Facebook\"})]}),testResult.results.instagram&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-pink-800\",children:\"Instagram\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Publi\\xE9 sur : @\",testResult.results.instagram.username]})]})]}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs bg-white border rounded p-2 mt-2 overflow-auto max-h-40\",children:JSON.stringify(testResult,null,2)})]}),connectionStatus==='fully_connected'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-gray-50 border rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-3\",children:\"\\uD83D\\uDCD6 Guide Webhook Multi-Plateformes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\uD83C\\uDF10 Requ\\xEAte Webhook\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs bg-gray-100 p-2 rounded overflow-auto\",children:\"curl -X POST \\\"\".concat(API_BASE,\"/api/webhook\\\" \\\\\\n  -F \\\"image=@produit.jpg\\\" \\\\\\n  -F 'json_data={\\n    \\\"title\\\": \\\"Mon Produit\\\",\\n    \\\"description\\\": \\\"Description\\\",\\n    \\\"url\\\": \\\"https://gizmobbs.com/produit\\\",\\n    \\\"store\\\": \\\"gizmobbs\\\"\\n  }'\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\uD83D\\uDCF1 R\\xE9sultat\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Publication Facebook automatique\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Publication Instagram simultan\\xE9e\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Images optimis\\xE9es pour chaque plateforme\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Liens et hashtags adapt\\xE9s\"})]})]})]})]})]});};export default LogicampBergerConnector;","map":{"version":3,"names":["React","useState","useEffect","Instagram","Users","CheckCircle","AlertCircle","Loader","ExternalLink","Settings","Zap","Facebook","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LogicampBergerConnector","_ref","user","onConnectionComplete","connectionStatus","setConnectionStatus","loading","setLoading","error","setError","platforms","setPlatforms","facebook","connected","page","instagram","account","testResult","setTestResult","API_BASE","process","env","REACT_APP_BACKEND_URL","checkLogicampConnection","response","fetch","concat","method","data","json","success","err","console","establishConnection","status","testWebhookPublication","result","renderConnectionStatus","_platforms$facebook$p","_platforms$instagram$","_platforms$facebook$p2","_platforms$instagram$2","_platforms$instagram$3","className","children","onClick","disabled","name","username","href","target","rel","results","page_name","post_url","JSON","stringify"],"sources":["/app/frontend/src/components/LogicampBergerConnector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Instagram, Users, CheckCircle, AlertCircle, Loader, ExternalLink, Settings, Zap, Facebook } from 'lucide-react';\n\nconst LogicampBergerConnector = ({ user, onConnectionComplete }) => {\n  const [connectionStatus, setConnectionStatus] = useState('checking');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [platforms, setPlatforms] = useState({\n    facebook: { connected: false, page: null },\n    instagram: { connected: false, account: null }\n  });\n  const [testResult, setTestResult] = useState(null);\n\n  const API_BASE = process.env.REACT_APP_BACKEND_URL || '';\n\n  useEffect(() => {\n    if (user) {\n      checkLogicampConnection();\n    }\n  }, [user]);\n\n  const checkLogicampConnection = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Vérifier la connexion à @logicamp_berger\n      const response = await fetch(`${API_BASE}/api/logicamp-berger/status`, {\n        method: 'GET'\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        setPlatforms(data.platforms);\n        \n        // Déterminer le statut global\n        if (data.platforms.facebook.connected && data.platforms.instagram.connected) {\n          setConnectionStatus('fully_connected');\n        } else if (data.platforms.facebook.connected || data.platforms.instagram.connected) {\n          setConnectionStatus('partially_connected');\n        } else {\n          setConnectionStatus('not_connected');\n        }\n        \n        if (onConnectionComplete && data.platforms.facebook.connected) {\n          onConnectionComplete(data.platforms);\n        }\n      } else {\n        setError(data.error || 'Erreur lors de la vérification de la connexion');\n        setConnectionStatus('error');\n      }\n      \n    } catch (err) {\n      console.error('Erreur vérification connexion:', err);\n      setError('Impossible de vérifier la connexion à @logicamp_berger');\n      setConnectionStatus('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const establishConnection = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Lancer la procédure de connexion automatique\n      const response = await fetch(`${API_BASE}/api/logicamp-berger/connect`, {\n        method: 'POST'\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        setPlatforms(data.platforms);\n        setConnectionStatus(data.status);\n        \n        if (onConnectionComplete) {\n          onConnectionComplete(data.platforms);\n        }\n      } else {\n        setError(data.error || 'Erreur lors de la connexion');\n      }\n      \n    } catch (err) {\n      console.error('Erreur connexion:', err);\n      setError('Impossible de se connecter à @logicamp_berger');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const testWebhookPublication = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Tester la publication webhook sur les deux plateformes\n      const response = await fetch(`${API_BASE}/api/logicamp-berger/test-webhook`, {\n        method: 'POST'\n      });\n      \n      const result = await response.json();\n      setTestResult(result);\n      \n    } catch (err) {\n      console.error('Erreur test webhook:', err);\n      setTestResult({\n        success: false,\n        error: 'Erreur lors du test de publication'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderConnectionStatus = () => {\n    switch (connectionStatus) {\n      case 'checking':\n        return (\n          <div className=\"flex items-center space-x-2 text-blue-600\">\n            <Loader className=\"w-5 h-5 animate-spin\" />\n            <span>Vérification de la connexion @logicamp_berger...</span>\n          </div>\n        );\n\n      case 'not_connected':\n        return (\n          <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-6\">\n            <div className=\"flex items-center space-x-2 text-orange-600 mb-4\">\n              <AlertCircle className=\"w-5 h-5\" />\n              <span className=\"font-semibold\">Connexion @logicamp_berger requise</span>\n            </div>\n            \n            <p className=\"text-gray-700 mb-4\">\n              Pour publier simultanément sur Facebook et Instagram via webhook, connectez-vous à @logicamp_berger.\n            </p>\n            \n            <div className=\"grid md:grid-cols-2 gap-4 mb-6\">\n              <div className=\"bg-white rounded-lg p-4 border-l-4 border-blue-500\">\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Facebook className=\"w-4 h-4 text-blue-600\" />\n                  <span>Page Facebook</span>\n                </h4>\n                <p className=\"text-sm text-gray-600\">Le Berger Blanc Suisse</p>\n                <p className=\"text-xs text-gray-500\">Publication via API Facebook</p>\n              </div>\n              \n              <div className=\"bg-white rounded-lg p-4 border-l-4 border-pink-500\">\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Instagram className=\"w-4 h-4 text-pink-600\" />\n                  <span>Instagram Business</span>\n                </h4>\n                <p className=\"text-sm text-gray-600\">@logicamp_berger</p>\n                <p className=\"text-xs text-gray-500\">Publication via API Instagram</p>\n              </div>\n            </div>\n            \n            <button\n              onClick={establishConnection}\n              disabled={loading}\n              className=\"w-full bg-gradient-to-r from-blue-500 to-pink-500 text-white py-3 px-4 rounded-lg hover:from-blue-600 hover:to-pink-600 disabled:opacity-50 flex items-center justify-center space-x-2 font-medium\"\n            >\n              {loading ? (\n                <Loader className=\"w-5 h-5 animate-spin\" />\n              ) : (\n                <>\n                  <Settings className=\"w-5 h-5\" />\n                  <span>Établir la connexion @logicamp_berger</span>\n                </>\n              )}\n            </button>\n          </div>\n        );\n\n      case 'partially_connected':\n        return (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n            <div className=\"flex items-center space-x-2 text-yellow-600 mb-4\">\n              <AlertCircle className=\"w-5 h-5\" />\n              <span className=\"font-semibold\">Connexion partielle</span>\n            </div>\n            \n            <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n              <div className={`bg-white rounded-lg p-4 border-l-4 ${\n                platforms.facebook.connected ? 'border-green-500' : 'border-red-500'\n              }`}>\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Facebook className=\"w-4 h-4 text-blue-600\" />\n                  <span>Facebook</span>\n                  {platforms.facebook.connected ? (\n                    <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  ) : (\n                    <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                  )}\n                </h4>\n                <p className=\"text-sm text-gray-600\">\n                  {platforms.facebook.connected ? \n                    platforms.facebook.page?.name || 'Page connectée' : \n                    'Page non connectée'\n                  }\n                </p>\n              </div>\n              \n              <div className={`bg-white rounded-lg p-4 border-l-4 ${\n                platforms.instagram.connected ? 'border-green-500' : 'border-red-500'\n              }`}>\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Instagram className=\"w-4 h-4 text-pink-600\" />\n                  <span>Instagram</span>\n                  {platforms.instagram.connected ? (\n                    <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  ) : (\n                    <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                  )}\n                </h4>\n                <p className=\"text-sm text-gray-600\">\n                  {platforms.instagram.connected ? \n                    `@${platforms.instagram.account?.username || 'logicamp_berger'}` : \n                    '@logicamp_berger (non connecté)'\n                  }\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"bg-blue-50 border border-blue-200 rounded p-4 mb-4\">\n              <p className=\"text-blue-800 text-sm\">\n                <strong>Publication possible :</strong> {platforms.facebook.connected ? 'Facebook' : ''} \n                {platforms.facebook.connected && platforms.instagram.connected ? ' + ' : ''}\n                {platforms.instagram.connected ? 'Instagram' : ''}\n              </p>\n            </div>\n            \n            <button\n              onClick={establishConnection}\n              disabled={loading}\n              className=\"w-full bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700 disabled:opacity-50 flex items-center justify-center space-x-2\"\n            >\n              {loading ? (\n                <Loader className=\"w-4 h-4 animate-spin\" />\n              ) : (\n                <>\n                  <Settings className=\"w-4 h-4\" />\n                  <span>Compléter la connexion</span>\n                </>\n              )}\n            </button>\n          </div>\n        );\n\n      case 'fully_connected':\n        return (\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n            <div className=\"flex items-center space-x-2 text-green-600 mb-4\">\n              <CheckCircle className=\"w-5 h-5\" />\n              <span className=\"font-semibold text-lg\">🎉 @logicamp_berger Connecté !</span>\n            </div>\n            \n            <div className=\"grid md:grid-cols-2 gap-4 mb-6\">\n              <div className=\"bg-white rounded-lg p-4\">\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Facebook className=\"w-4 h-4 text-blue-600\" />\n                  <span>Page Facebook</span>\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                </h4>\n                <p className=\"text-sm text-gray-600 mb-1\">{platforms.facebook.page?.name}</p>\n                <p className=\"text-xs text-green-600\">✅ Publication active</p>\n              </div>\n              \n              <div className=\"bg-white rounded-lg p-4\">\n                <h4 className=\"font-semibold flex items-center space-x-2 mb-2\">\n                  <Instagram className=\"w-4 h-4 text-pink-600\" />\n                  <span>Instagram Business</span>\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                </h4>\n                <p className=\"text-sm text-gray-600 mb-1\">@{platforms.instagram.account?.username}</p>\n                <p className=\"text-xs text-green-600\">✅ Publication active</p>\n                <a\n                  href={`https://www.instagram.com/${platforms.instagram.account?.username}/`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"inline-flex items-center space-x-1 text-blue-600 hover:underline text-xs mt-1\"\n                >\n                  <span>Voir le profil</span>\n                  <ExternalLink className=\"w-3 h-3\" />\n                </a>\n              </div>\n            </div>\n            \n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n              <h4 className=\"font-semibold text-blue-900 mb-2\">🚀 Publication Webhook Multi-Plateformes</h4>\n              <div className=\"space-y-2 text-sm\">\n                <p className=\"text-blue-800\">\n                  <strong>Endpoint :</strong> <code className=\"bg-white px-2 py-1 rounded\">{API_BASE}/api/webhook</code>\n                </p>\n                <p className=\"text-blue-800\">\n                  <strong>Shop Type :</strong> <code className=\"bg-white px-2 py-1 rounded\">\"gizmobbs\"</code>\n                </p>\n                <div className=\"bg-white rounded p-3 mt-3\">\n                  <p className=\"text-green-800 font-medium mb-1\">✅ Publication simultanée activée :</p>\n                  <ul className=\"text-sm space-y-1\">\n                    <li>• Facebook : Page \"Le Berger Blanc Suisse\"</li>\n                    <li>• Instagram : @logicamp_berger</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={testWebhookPublication}\n                disabled={loading}\n                className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2\"\n              >\n                {loading ? <Loader className=\"w-4 h-4 animate-spin\" /> : <Zap className=\"w-4 h-4\" />}\n                <span>Tester Publication Multi-Plateformes</span>\n              </button>\n              \n              <button\n                onClick={checkLogicampConnection}\n                disabled={loading}\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50\"\n              >\n                Actualiser\n              </button>\n            </div>\n          </div>\n        );\n\n      case 'error':\n      default:\n        return (\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n            <div className=\"flex items-center space-x-2 text-red-600 mb-4\">\n              <AlertCircle className=\"w-5 h-5\" />\n              <span className=\"font-semibold\">Erreur de connexion</span>\n            </div>\n            <p className=\"text-gray-700 mb-4\">\n              Impossible de vérifier ou d'établir la connexion à @logicamp_berger.\n            </p>\n            <button\n              onClick={checkLogicampConnection}\n              disabled={loading}\n              className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50\"\n            >\n              Réessayer\n            </button>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2 flex items-center space-x-2\">\n          <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center\">\n            <Instagram className=\"w-5 h-5 text-white\" />\n          </div>\n          <span>Connexion @logicamp_berger</span>\n        </h2>\n        <p className=\"text-gray-600\">\n          Configuration pour publication simultanée Facebook + Instagram via webhook\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700\">\n          <AlertCircle className=\"w-4 h-4 flex-shrink-0\" />\n          <span className=\"text-sm\">{error}</span>\n        </div>\n      )}\n\n      {renderConnectionStatus()}\n\n      {/* Résultat du test */}\n      {testResult && (\n        <div className={`mt-6 border rounded-lg p-4 ${\n          testResult.success \n            ? 'bg-green-50 border-green-200' \n            : 'bg-red-50 border-red-200'\n        }`}>\n          <h4 className={`font-semibold mb-2 ${\n            testResult.success ? 'text-green-900' : 'text-red-900'\n          }`}>\n            {testResult.success ? '✅ Test Multi-Plateformes Réussi !' : '❌ Test Multi-Plateformes Échoué'}\n          </h4>\n          \n          {testResult.success && testResult.results && (\n            <div className=\"space-y-3\">\n              {testResult.results.facebook && (\n                <div className=\"bg-white rounded p-3\">\n                  <p className=\"font-medium text-blue-800\">Facebook</p>\n                  <p className=\"text-sm text-gray-600\">\n                    Publié sur : {testResult.results.facebook.page_name}\n                  </p>\n                  {testResult.results.facebook.post_url && (\n                    <a \n                      href={testResult.results.facebook.post_url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 hover:underline text-sm\"\n                    >\n                      Voir le post Facebook\n                    </a>\n                  )}\n                </div>\n              )}\n              \n              {testResult.results.instagram && (\n                <div className=\"bg-white rounded p-3\">\n                  <p className=\"font-medium text-pink-800\">Instagram</p>\n                  <p className=\"text-sm text-gray-600\">\n                    Publié sur : @{testResult.results.instagram.username}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n          \n          <pre className=\"text-xs bg-white border rounded p-2 mt-2 overflow-auto max-h-40\">\n            {JSON.stringify(testResult, null, 2)}\n          </pre>\n        </div>\n      )}\n\n      {/* Guide webhook */}\n      {connectionStatus === 'fully_connected' && (\n        <div className=\"mt-6 bg-gray-50 border rounded-lg p-6\">\n          <h3 className=\"font-semibold text-gray-900 mb-3\">📖 Guide Webhook Multi-Plateformes</h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"bg-white rounded p-4\">\n              <h4 className=\"font-medium mb-2\">🌐 Requête Webhook</h4>\n              <pre className=\"text-xs bg-gray-100 p-2 rounded overflow-auto\">\n{`curl -X POST \"${API_BASE}/api/webhook\" \\\\\n  -F \"image=@produit.jpg\" \\\\\n  -F 'json_data={\n    \"title\": \"Mon Produit\",\n    \"description\": \"Description\",\n    \"url\": \"https://gizmobbs.com/produit\",\n    \"store\": \"gizmobbs\"\n  }'`}\n              </pre>\n            </div>\n            \n            <div className=\"bg-white rounded p-4\">\n              <h4 className=\"font-medium mb-2\">📱 Résultat</h4>\n              <ul className=\"text-sm space-y-1\">\n                <li>• Publication Facebook automatique</li>\n                <li>• Publication Instagram simultanée</li>\n                <li>• Images optimisées pour chaque plateforme</li>\n                <li>• Liens et hashtags adaptés</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LogicampBergerConnector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}